welcome to exploring computing today's video is computer networks protocols of the internet so as i alluded to in the last lecture protocols on the internet are layered and this is sometimes a little difficult to understand but it is important to understanding how the internet really works i like to teach layered protocols by analogy so let's start off with a little hypothetical here suppose after i'm done teaching at stanford i retire and i move to maine and i've always been good working with my hands i used to build models and so i decide i'm gonna go build some wooden toys and the wooden toys end up being quite popular and so people around the world ask if they can buy my toys somebody from stanford a former student in california wants to buy one of my toys and so what do i do well here's a possibility i hired truck and my truck takes the toy out to a train station and we transfer the toy to the train station and the train goes to chicago and then it transfers to another train and that ends up somewhere in los angeles and then i hire another truck to take the toy from los angeles out to wherever my former students living so this will get the toy to my former student assuming i can manage the complexities of running an entire transportation network but this doesn't seem like a very good idea does it no i don't want to do this i want to concentrate on building the toys i don't want to deal with any transportation stuff what i'd like to do is i like to take the toy and drop it off at the fedex office and magically have it appear at my former students house now all the steps that i previously attempted to go through like hiring trucks working out train schedules filling trucks with gasoline that all still happens but the difference is i'm not dealing with it fedex is and so the same sort of process occurs when we're developing software for the internet ultimately there are people that do work at that bottom layer at the layer where somebody's trying to figure out how to fill up the trucks or working out the train schedules but most programmers programming applications on the internet don't deal with that level of complexity instead they do the equivalent of dropping off some information at the fedex office and having it magically appear on the other end so what we're going to do is we're going to take a look at what's sometimes referred to as the internet protocol stack and we're going to take it from the bottom layer that filling the truck up with gas layer where the rubber really hits the road and we're going to see the different layers that are built on top until we get up to the top layer which is where the applications happen where they do the equivalent of dropping the information off of fedex and it magically appears on the other end all right so this is the internet protocol stack then at the bottom layer we have the physical layer and that's the layer basically the library where we're filling the truck with gasoline and then we have a number of layers on top of that and then at the top layer we have the application layer and that's the layer where people are just dropping packages off of fedex so let's take a look at each of these layers and see how they work the first layer the bottom layer is the physical layer when we're working at the physical layer we need to decide exactly how we're transmitting information to using zeros and ones so for example when we're transferring information over the telephone are we going to have a 1070 hertz tone are we going to have a 20 25 hertz tone e and which one of those is it going to represent zero and which one is going to represent one we need to figure out what the physical connections look like we need to figure out how everything's going to fit together now the thing about the physical layer is anytime you come up with a new network you are going to have to define a new physical layer and we're going to find that this is not the case with all the layers but the lower layers we need to define a new copy of every time we have a new type of network so if i decide that the best way to get information across the pacific is to have a bunch of sharks with freaking laser beams on their head that i need to figure out how those sharks are going to transmit zeros and ones across the pacific on top of the physical layers in a network layer the protocol at the network layer is the internet protocol this is the same internet protocol that we saw when we were seeing ip addresses while this layer is built on top of the physical layer it's still quite primitive all information sent with the internet protocol is going to be limited to 64 kilobyte packets and these packets will include the ip address of the sender the ip address of the recipient a checksum which is a means of trying to determine if something accidentally messed with some of the bits in the packet and then the actual data one of the things that particularly makes this network layer a bit annoying to work with is there's no delivery guarantee the internet protocol layer says it will make the quote best effort end quote to get the package to the destination and so one of the questions is why do we have this really primitive layer and the answer is because again anytime we have a new type of network we want to define we need to define the physical layer and we need to define the network layer so going back to my sharks with freaking laser beams example i need to get those sharks to somehow line up to get packets from one side of the pacific to the other side i don't want to deal with a more complex protocol i want the simplest protocol possible because i'm having enough trouble just trying to get these sharks aligned so because the network layer is relatively simple it's going to be relatively easy for somebody to come up with a new network type and implement the network layer on that new network type going up a layer we have the transporter layer there's actually several protocols that work at this layer but by far the most famous is the transmission control protocol or tcp the tcp protocol basically acts as our fedex does what we're going to be able to do with the transmission control protocol is it's going to build on top of the network layer and ultimately on top of the physical layer and we're going to be able to just drop off packages at the transmission layer and they will magically appear at the other side tcp and ip are often considered the key internet protocols the most important protocols of the internet let's take a look at how these two work together to get their job done so what we have here is a video of the lord of the rings the fellowship of the ring it's 2.53 gigabytes and that actually means i made this little interactive video back before we had high definition televisions in widespread use so at 2.53 gigabytes this movie is too large to fit into our individual 64 kilobyte packets so if we want to send this movie what needs to happen is it needs to be divided up into all these little packets and this is something that tcp is going to do for us so as somebody who's building on top of tcp i hand the movie to tcp tcp breaks the movie down into all these little individual packets and if you work it out there are over 663 thousand packets for the entire movie what tcp is going to do is it's going to number each of the individual packets and it's going to mark the packets with the ip number the source computer and the ip number the destination computer it is then going to start sending the packets through the internet using the internet protocol as we previously discussed the internet protocol does not guarantee transfer it just makes the best effort among other things this means some packets will get lost and some packets will arrive in the wrong order now what tcp is going to do is it is going to keep track of the different packets if the packets arrive in the wrong order and it's going to reorder them to the correct order and even nicer it's going to keep track of the total number of packets and if some of the packets are missing it will send a request using ip back to the original computer saying hey that packet didn't show up can you send me another copy and then that copy will get sent over from the point of view of somebody who is using tcp this is all completely hidden as far as the user of tcp is concerned we just have a direct connection from one computer to the other computer we can shovel whatever information we want into this connection and it will magically appear on the other side finally that brings us to our last layer the application layer this is the layer where all the stuff you guys care about happened so we have a whole bunch of mail protocols smtp pop imap the protocol for the web http is here there's file transfer protocols like ftp and secure ftp and basically every program that is on the network that does anything needs to have some sort of a protocol they may be well specified protocols that are publicly available and that different programs can interoperate with or they may be completely proprietary but ultimately as we've seen previously if two computers are on the network and are operating together there needs to be some sort of formal agreement between those two computers and that formal agreement is a protocol but as we've seen the application layer is built on top of the other layers so if you come up with some great cool new idea for a brand new type of application on the internet you do not have to go back and say hey i need to figure out how to move those packets around i needed to know how to reorder those packets that is completely handled for you by tcp you're just going to hand things to tcp and tcp will take care of that you do not have to worry about hey am i running this over a wi-fi network am i running this over fiber optic cable am i running this over patrick sharks with freaking laser beams network that is all completely hidden by the lower layers so you can see that this layered protocol really provides some great advantages to the people on the top layers there are some other handy implications of the fact that everything down below is handled by packets consider for example i'm sitting in my dorm room and i'm trying to download the lord of the rings now it turns out that all internet traffic from our particular floor travels through the same cables to the wider internet for the university and so without packets while i'm downloading the lord of the rings nobody else can do anything but because the traffic is broken down into packets what's going to happen is i will get my little 64 kilobyte packet from the load of rings maybe my friend next door is watching the movie up she'll get her 64 kilobutt packet from up i'll get a packet from the lord of the rings maybe somebody's actually trying to get some work done they'll get some email in and basically the packets will get all be sharing the same cable and some packets will come in for me some packets will come up for somebody else people will be able to get work in in between our packets and again if we were to send everything in just one large chunk maybe you get the same amount of traffic through but everybody would have to sit around and wait for that big chunk to come through so the fact that things are broken down in a packet is actually pretty great another situation which packets work really well is when they're being used for communication purposes so if you look into telecommunications you'll discover that there's two different ways that telecommunications can happen you can either have what's called circuit switching which is traditionally how telecommunications has happened or you can have packet switching and actually everything's been moving to packet switching you may have noticed that the telephones at stanford are often cisco phones you may think i thought cisco was a networking company i didn't think they were a telephone company well we're using cisco phones because the csco phones use internet packet technology and it turns out internet packet technology is just much more efficient than traditional telephones so let's take a look at how this actually works so i've mentioned my friend tammy several times and she moved to italy a long while back and um so we would talk on the phone and using traditional circuit switching technology what happens is when i'm on the phone talking to tammy there is a dedicated line between stanford and italy and so it may not be a single line it actually is a series of lines going through different switching stations but but ultimately all along the way there is a specific wire while i'm on the phone with her completely dedicated to the two of us and if we're talking it's going great we're using our wire and if we're mad at each other and not saying a whole lot well those lines are still completely dedicated to us even though we're not saying anything so this is not necessarily the most efficient use of these wires that are these cables that are connecting stanford to italy now you may have noticed that most of the calls that some of you have been making to friends overseas is actually completely free maybe you're using something like facetime or google hangouts or something like that those technologies use internet packets and so what's happening in those situations is instead of you having a completely dedicated circuit between you and say your friend and the bank overseas program in south africa what's happening is your voice is being chopped up into these little 64 kilobyte packets those packets are being shoved into the network along with everybody else's packets and your packets are going to arrive out on the other end and because the lines are now shared it's not as expensive as in as when the lines were dedicated and to be perfectly honest the uh the telephone system between here in italy was not so great that having a dedicated line necessarily led to great results anyway so you know maybe facetimes for the best although i have had not so great experiences using skype to people out in south africa so you know a lot of it depends on how the internet connection is going and that actually brings up another interesting point about how the whole packet situation works because the packets are being shared on the line with everything else sometimes the packets get bottled up along with the rest of the internet traffic and so what's happening is on the other end you're receiving a packet and you have to decide gee i'm missing this packet but if i wait too much longer before playing the video my user is going to think this is getting a little bit weird so maybe i should go ahead and play the video before that packet arrives and we're just gonna have a glitch um so there's all sorts of interesting situations that can occur because this information is being sent in packets all right that's it for our study of the internet and the internet protocols where we're gonna move to next week is we're going to start looking at the world wide web and we're going to start learning how to make web pages i'll talk to you soon have a great